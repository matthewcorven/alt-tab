---
title: AI Coder Makes QR Code Reader
slug: ai-coder-makes-qr-code-reader
date: 2023-07-26
tags: [ChatGPT, OpenAI, GPT-4, AI, JavaScript, Node.js, QR Code, Webcam, NPM]
categories: [Software Development, AI]
thumbnail: robot-uses-handheld-scanner-to-scan-qr-code-at-museum-exhibition_preview.png
toc:
  enable: true
  number: true
  max_depth: 3
quicklink:
  enable: true
  delay: true
  timeout: 3000
---

<p><img src="/2023/07/26/ai-coder-makes-qr-code-reader/robot-uses-handheld-scanner-to-scan-qr-code-at-museum-exhibition.png" alt="Generated by Midjourney using prompt: 'Robot uses handheld scanner to scan qr code at museum exhibition'" loading="lazy"></p>

I've been using [OpenAI's GPT-4](https://openai.com/chatgpt) as well as GitHub's [Copilot](https://github.com/features/copilot) & [Copilot Chat](https://github.blog/2023-03-22-github-copilot-x-the-ai-powered-developer-experience/) VSCode [extensions](https://code.visualstudio.com/docs/editor/artificial-intelligence) as a part of my workflow while developing a retail point-of-sale advertising display for my wife's business (a future blog post to come). I find myself relying on Generative AI throughout my time focusing on the project. What's more, I'm able to spend more time in a flow which is a benefit in and of itself, for a husband and dad with precious little time for tinkering.

Regardless of whether I'm asking questions to help gauge the complexity of an idea, double-checking my memory of a concept, asking for the code to a quick functional POC, or working with my code in the editor, GPT-4 has been a great tool to have in my toolbox. Most times it's as accurate as I need it to be, and when it's not, it's still a great starting point.  

Case in point, I was struck with the interest to try developing a simple app that would:
1. Access the local webcam at an interval
2. Scan the image valid QR code
3. Print the code to the console.
 
Not having an idea as to where I'd start, except for having an interest in using JavaScript for the challenge, I asked Chat GPT to get me started:

<div class="chat-gpt-message">

*Random inspiration meets GPT-4, results in a tiny Node.js app that uses a webcam to continually read qr codes from the field of view, and prints them to the console. Complete with concise NPM project setup and run instructions, with a troubleshooting section covering expected common issues with discovery and resolution notes.*

</div>

[GPT-4 responded with](https://chat.openai.com/share/c00827ed-e294-4acf-8bf9-bad2382165f4):

<div class="chat-gpt-message">

Sure, I can help outline how such a project can be structured. We'll use the `qrcode-reader` package to read QR codes, `node-webcam` to access the webcam, and `Jimp` to process images.

Here is a simple guide to setting up and running this project:

<span class="chat-gpt-response-step-header">1. Setup:</span>

First, ensure that Node.js and NPM are installed on your machine. If not, visit the Node.js website to download and install the latest version.

Next, create a new directory for your project, navigate into it, and initialize a new NPM project by running:

```bash
mkdir qr-reader && cd qr-reader
npm init -y
```

Then, install the necessary dependencies:

```bash
npm install node-webcam qrcode-reader jimp
```

<span class="chat-gpt-response-step-header">2. Writing the Application:</span>

Create a new `index.js` file and open it in your favorite code editor. Here's a simple application that can capture images from your webcam and decode any QR codes found in them:

```javascript
const NodeWebcam = require("node-webcam");
const QrCode = require("qrcode-reader");
const Jimp = require("jimp");

// Webcam options
const opts = {
  width: 1280,
  height: 720,
  quality: 100,
  delay: 0,
  saveShots: true,
  output: "jpeg",
  device: false,
  callbackReturn: "location",
  verbose: false
};

// Create the webcam instance
const Webcam = NodeWebcam.create(opts);

function captureAndDecode() {
  Webcam.capture('test_picture', function(err, data) {
    if(err) {
      console.log(err);
      return;
    }

    Jimp.read('test_picture.jpg', function(err, image) {
      if(err) {
        console.log(err);
        return;
      }

      let qr = new QrCode();
      qr.callback = function(err, value) {
        if(err) {
          console.log(err);
          return;
        }
        
        console.log(value.result);
        console.log('------------------------');
      };

      qr.decode(image.bitmap);
    });
  });
}

// Continually capture and decode
setInterval(captureAndDecode, 5000);
```

This application will take a picture every 5 seconds and attempt to decode any QR codes found in it.

<span class="chat-gpt-response-step-header">3. Run the Application:</span>

To start the application, use the node command:

```bash
node index.js
```

If everything is set up correctly, you should start seeing QR code data printed to your console.

<span class="chat-gpt-response-step-header">4. Troubleshooting:</span>

- If the QR codes are not being read properly, try adjusting the webcam resolution in the opts object.
- If there's an issue with the webcam not being found, ensure it's properly connected and try specifying the device in the opts object.
- If you're receiving file system errors, ensure your application has permission to read/write in its current directory.
- If you're getting a MODULE_NOT_FOUND error, ensure all required dependencies are properly installed. If necessary, delete the node_modules directory and the package-lock.json file and reinstall your dependencies with npm install.

Remember to always check the error logs for clues on what could be going wrong. And when in doubt, the Node.js and module documentation, along with search engines and relevant developer communities, can be invaluable resources for troubleshooting.

</div>

To my delight, the app ran without a hiccup, and did exactly what I asked.  

<p><img id="9c2593ed-abb7-4559-afcc-b13cb79e726d" style="border: 1px solid; box-shadow: 5px 10px; cursor: pointer;" data-src="/2023/07/26/ai-coder-makes-qr-code-reader/2023-07-26T203347.png" alt="2023-07-26T203347" src="/2023/07/26/ai-coder-makes-qr-code-reader/2023-07-26T203347.png" loading="lazy" onclick="document.getElementById('9c2593ed-abb7-4559-afcc-b13cb79e726d').requestFullscreen();"></p>

Effectively starting and finishing the implementation before I'd even had a chance to search `"webcam"` on [npmjs.com](https://www.npmjs.com/), I spent my time amused instead of challenged.

I'm not sure if I'll use this code for anything, but it was a fun anyway.

Source code for this project is available on [GitHub](https://github.com/matthewcorven/ai-coder-makes-qr-code-reader)